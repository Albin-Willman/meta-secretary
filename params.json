{"name":"Meta-secretary","tagline":"Simple deploy tracker ","body":"# Meta secretary\r\nSimple Rails app to keep track of deploys.\r\n\r\n[![Code Climate](https://codeclimate.com/github/trialbee/meta-secretary.png)](https://codeclimate.com/github/trialbee/meta-secretary)\r\n[![Build Status](https://travis-ci.org/trialbee/meta-secretary.png?branch=master)](https://travis-ci.org/trialbee/meta-secretary)\r\n\r\n- [About](#about)\r\n- [Create deploy](#create-deploy)\r\n- [Production setup](#production-setup)\r\n- [Contributing](#contributing)\r\n- [Tests](#tests)\r\n- [Technology](#technology)\r\n\r\n## About\r\nMeta Secretary is a simple Rails app to keep track of deploys for code that is hosted on GitHub.  \r\n* A GitHub user token with access to all deployed repositories is needed, note that it can't be a organization token.\r\n\r\n## Create deploy\r\n```bash\r\n# Required: commit_sha, application, repository_name, server\r\n# Optional: ip_address, tag\r\n#\r\n# repository_name must be the name used on GitHub\r\n\r\n$ curl -X POST -d \\\r\n'{\r\n  \"deployment\": {\r\n    \"commit_sha\": \"8b988e7f73f07a50c4856bf86cd9aebaae06a032\",\r\n    \"server\": \"meta-production-server\",\r\n    \"application\": \"meta-secretary\",\r\n    \"repository_name\": \"meta-secretary\",\r\n    \"tag\": \"\",\r\n    \"ip_address\": \"\"\r\n  }\r\n}' http://user:password@example-meta.herokuapp.com/new_deployment --header \"Content-Type:application/json\"\r\n```\r\n\r\n## Production Setup\r\n[![Deploy](https://www.herokucdn.com/deploy/button.png)](https://heroku.com/deploy)\r\n\r\nOr you can deploy manually:\r\n```bash\r\n# HTTP basic authentication\r\nexport SECRETARY_WEB_USER='user'\r\nexport SECRETARY_WEB_PASS='password'\r\n# Rails secret token\r\nexport SECRETARY_SECRET_TOKEN='.........'\r\n# For usage of the GitHub API\r\nexport SECRETARY_GITHUB_ORG_NAME='...'     # GitHub organization name or username\r\nexport SECRETARY_GITHUB_ACCESS_TOKEN='...' # Access token GitHub (can't be an organization token), that has access to all repositories\r\n$ git clone git@github.com:trialbee/meta-secretary.git\r\n# If you want to deploy to Heroku:\r\n$ heroku apps:create example-meta # choose a name\r\n$ git push heroku master\r\n$ heroku run rake db:create\r\n$ heroku run rake db:migrate\r\n$ heroku restart\r\n```\r\n\r\n## Updating Meta Secretary\r\n```bash\r\n  $ export $META_SECRETARY_URL='https://user:password@example-meta.herokuapp.com'\r\n  $ bash --login deploy.sh # --login is needed if META_SECRETARY_URL is set in bash_profile\r\n```\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Add some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create new Pull Request\r\n\r\nFor groupdate gem: time zone [support](http://dev.mysql.com/doc/refman/5.6/en/time-zone-support.html) needs to be added to MySQL\r\n```bash\r\n$ mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root mysql\r\n```\r\n\r\n### Tests\r\n\r\n```bash\r\n$ rspec # Will run all tests with coverage (output saved to coverage/)\r\n# Or if you'd like to run relevant tests automatically on any file change\r\n$ guard\r\n```\r\n\r\n## Technology\r\n\r\n* Ruby 2.0\r\n* Ruby on Rails 4.0\r\n* MySQL      (development)\r\n* PostgreSQL (production)\r\n* Twitter Bootstrap 3.1.1\r\n* jQuery 1.10\r\n* jQuery.dataTables 1.9.4\r\n* Handlebars.js 1.3.0\r\n* Unicorn (application server)\r\n","google":"UA-26617077-4","note":"Don't delete this file! It's used internally to help with page regeneration."}